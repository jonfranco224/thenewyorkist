---
import Layout from "../components/Layout.astro";
import { getCollection } from "astro:content";

const allPosts = await getCollection("articles"); // Adjust collection name if needed
const [firstPost, ...posts] = allPosts
console.log(allPosts)
---

<Layout>

	<div class="container mx-auto py-6 flex gap-8">
		<section class="w-[70%]">
		<a
			href={`/articles/${firstPost?.slug}`}
			class="bg-white shadow-md rounded-lg overflow-hidden"
		>
			<article>
				<img
					class="w-full h-96 object-cover overflow-hidden"
					src={firstPost?.data.image.src}
					alt={firstPost?.data.image.alt}
				/>
				<div class="py-4">
					<h2 class="text-xl font-semibold text-gray-800">
						{firstPost?.data.title}
					</h2>
					<p class="text-gray-600 text-sm mt-2">{firstPost?.data.description}</p>
					<div class="mt-4">
						<a
							href="#"
							class="text-blue-500 hover:underline text-sm font-medium"
						>
							Read More
						</a>
					</div>
				</div>
			</article>
		</a>
	</section>
	<section class="w-[30%]">
		<ul>
			{
				posts.map((post) => (
					<a
						href={`/articles/${post.slug}`}
						class="bg-white shadow-md rounded-lg overflow-hidden"
					>
						<img
							class="w-full h-48 object-cover overflow-hidden"
							src={post.data.image.src}
							alt={post.data.image.alt}
						/>
						<div class="py-4">
							<h2 class="text-xl font-semibold text-gray-800">
								{post.data.title}
							</h2>
							<p class="text-gray-600 text-sm mt-2">{post.data.description}</p>
							<div class="mt-4">
								<a
									href={`/articles/${post.slug}`}
									class="text-blue-500 hover:underline text-sm font-medium"
								>
									Read More
								</a>
							</div>
						</div>
					</a>
				))
			}
		</ul>
	</section>
</div>


</Layout>
